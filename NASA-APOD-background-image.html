<!DOCTYPE html>
<html>
<head>
<title>NASA APOD Scrapper</title>
<style type="text/css">
   
    body {
      background-size: cover;
    }

    .credits {
        background:rgba(0, 0, 0, 0.5);
        color: white;
        position: absolute;
        bottom: 0;
        right: 0;
    }

    .credits a {
        color: white;
    }

</style>
</head>
<body>
    <form id="form">
        <button type="button" onclick="loadData()">Load NASA APOD</button>
    </form>
    <div class='credits'>
    </div>
</body>

<script>
var url = 'http://apod.nasa.gov/apod/';
var proxy = 'http://cors.io/?u=';

function loadData() {
    var xhttp;
    xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (xhttp.readyState == 4 && xhttp.status == 200) {
            parseLink (xhttp.responseText)
        }
    }
    xhttp.open("GET", proxy + "http://apod.nasa.gov/apod/astropix.html", true);
    xhttp.send();
}

function parseLink (data) {
    console.log(data);
    var urlRe = /<br>\s*\n*<a\shref="(image.*)">/g;
    var creditsRe = /<\/center>\n\n<center>\n((.*\n*)*?)<\/center>/g;
    var urlArray = urlRe.exec(data);
    var creditsArray = creditsRe.exec(data);
    renderBackground (url + urlArray[1], creditsArray[1]);
}

function renderBackground (image, credits) {
    document.getElementsByClassName('credits')[0].innerHTML = credits;
    document.body.style.backgroundImage = 'url(' + image + ')';

}
</script>
</html>